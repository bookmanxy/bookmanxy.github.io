---
layout: post
title:  "maven- - 可执行jar包"
categories: maven
tags:  jar maven
author: watermelon
---
* content
{:toc}

![maven](https://wx2.sinaimg.cn/mw1024/005xB1vLly1fyiy70ze42j30k00b975o.jpg)
## 前言
使用maven打可执行jar包,spring和springboot中有点区别(感觉用处不大，因为可执行jar包几乎需要容器IOC支持，甚至要Aop事务，而默认jar都是Appclication.java入口的)





### 1：spring中的打包
```xml
<project>  
  [...]  
  <build>  
    <plugins>  
      <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-shade-plugin</artifactId>
            <version>3.2.1</version>
            <executions>
                <execution>
                    <phase>package</phase>
                    <goals>
                        <goal>shade</goal>
                    </goals>
                    <configuration>
                        <transformers>
                            <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                <mainClass>cn.faceland.springboot.task.PrintTask</mainClass>
                            </transformer>
                        </transformers>
                    </configuration>
                </execution>
            </executions>
        </plugin> 
    </plugins>  
  </build>  
  [...]  
</project>
```

### 2：springboot的打包
springboot用上面的方式打包会报错：“ Cannot find 'resource' in class org.apache.maven.plugins.shade.resource.ManifestResourceTransformer -> [Help 1]”

处理：springboot本身就带有自己的打包插件，spring-boot-maven-plugin 这个插件就可以完成打包的工作。如果画蛇添足引用了Shade反而会导致一些冲突。
```xml
<project>  
  [...]  
  <build>  
    <plugins>  
      <plugin>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
            <version>1.5.4.RELEASE</version>
            <configuration>
                <mainClass>${start-class}</mainClass>
                <layout>ZIP</layout>
            </configuration>
            <executions>
                <execution>
                    <goals>
                        <goal>repackage</goal>
                    </goals>
                </execution>
            </executions>
        </plugin>
    </plugins>  
  </build>  
  [...]  
</project>
```
![git操作](https://wx3.sinaimg.cn/mw1024/005xB1vLly1fyiy70o3e5j30af08gdfs.jpg)
* 1：将生成的jar拖到桌面上，
* 2：然后WIN + R键打开命令窗口，
* 3：输入 java -jar  并把jar拖到命令窗口中，
* 4：然后回车键运行即可

![命令窗口操作jar](https://wx3.sinaimg.cn/mw1024/005xB1vLly1fyiy70uzlvj30qy06a74p.jpg)

  
引用：  
* [Maven构建可执行的jar包(包含依赖jar包)](https://www.cnblogs.com/dzblog/p/6913809.html)  
* [Maven插件系列之spring-boot-maven-plugin](https://www.cnblogs.com/liaojie970/p/9007577.html)  
* [maven-shade-plugin错误 Cannot find 'resource' in class](https://blog.csdn.net/oarsman/article/details/79935589)  
